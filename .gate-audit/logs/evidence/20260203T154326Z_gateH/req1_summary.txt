=== Gate H req①: Feature Summary ===

--- controller/ directory ---
EXISTS
total 32
drwxr-xr-x  3 masahiro masahiro  4096 Jan 30 11:37 .
drwxr-xr-x 18 masahiro masahiro  4096 Feb  3 04:24 ..
drwxr-xr-x  2 masahiro masahiro  4096 Jan 30 11:12 __pycache__
-rw-r--r--  1 masahiro masahiro 19516 Jan 30 11:37 main.py

--- rules/ directory ---
EXISTS
total 20
drwxr-xr-x  2 masahiro masahiro 4096 Jan 30 11:37 .
drwxr-xr-x 18 masahiro masahiro 4096 Feb  3 04:24 ..
-rw-r--r--  1 masahiro masahiro 2785 Jan 27 13:19 policy.json
-rw-r--r--  1 masahiro masahiro 1100 Jan 27 11:44 routes.yaml
-rw-r--r--  1 masahiro masahiro  704 Jan 30 11:37 ssot_manifest.yaml

--- bin/ctx-run ---
EXISTS

--- tools/cf-controller-smoke.sh ---
EXISTS
--- tools/cf-ci-validate.sh ---
EXISTS

--- Runbook Gate H references ---
259:- 新規タスクの入口は Gate H（Phase 1）に統一する（Gate G は完了扱い）
364:### Phase 0：準備（作業ブランチ・現状固定）
368:### Phase 1：Gate A（スコープ固定）
441:## 付録：Gate H アーカイブ（完了済みチェックリスト）
448:  - Gate I / I0: SSOTスリム化（旧 I1: Gate H 完了チェックリスト退避 + SSOTスリム化）
449:- 意図: Gate Hの入口定義は維持しつつ、次フェーズ(Gate I)の入口定義を固める
451:## Gate H（新規タスクの入口）
452:### Phase 1（未着手タスク）
454:- [x] H1: 昇格/分類ルール（STEP-G006）確定再確認
455:- [x] H2: workspace_tracker 非SSOT扱い確定再確認
456:- [x] H3: Phase 0 — `bin/ctx-run`（SSOT束注入）＋ `rules/ssot_manifest.yaml`（最小）
457:- [x] H4: Phase 1 — ルール設計（`routes.yaml` / `policy.json` / `ssot_manifest.yaml`）
458:- [x] H5: Phase 1 — Controller骨格（分類JSON→検証→束生成→生成→検証→ログ）
459:- [x] H6: Phase 1 — 危険操作ゲート（Go/NoGo）＋危険フラグ/禁止語の検知
460:- [x] H7: Phase 1 — 2段階出力の定型（次の1手1つ/復習用/変更点/根拠）
461:- [x] H8: Phase 1 — テスト（不一致は停止 / high riskはGo/NoGo / JSON破損は再生成or停止）
462:- [x] H9: Phase 1 — Gate C 検証組込み（`validate_agent_adapters()`：STEP-304/305/306）
463:- [x] H10: Phase 2 — Docs MCP（読み取り専用）導入手順の整備（任意）
464:- [x] H11: Phase 2 — 用途別ツールMCP（STDIO）設計（`get_ssot_bundle`/`diff_summary`等）
465:- [x] H12: Phase 3 — 運用成熟（CIでスキーマ/ルール検証、ログ整備）
813:#### Phase 1（検索導線の成立：最小導入）
1214:- **必須依存にしない**（MCPなしでもPhase 1が成立する前提）。
1241:- LLM側の**参照/要約/差分抽出**を補助する（Controllerが最終判断）。
1242:- **必須依存にしない**（MCP無しでもPhase 1が成立する前提）。
1266:- LLM側の利用記録は根拠に残す（Controllerが判断）。
